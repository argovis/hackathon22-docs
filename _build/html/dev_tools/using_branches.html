

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Using Branches &mdash; argovis  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Restore Mongo from Backup" href="../disaster_recovery/restore_a_mongo_collection.html" />
    <link rel="prev" title="Dealing With Merge Conflicts" href="merge_conflicts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> argovis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/set_up_dev_environment.html">Setting Up Argovis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/api_development.html">API Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/custom_angular_components.html">Creating Custom Angular Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Operations Playbooks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ops/deployment.html">Argovis Kubernetes Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ops/performance_testing.html">Performance Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data_management/point_schema.html">Point Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_management/argo_merge.html">Merging Argo Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Tools &amp; Techniques</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fast_development_builds.html">Fast Angular Builds</a></li>
<li class="toctree-l1"><a class="reference internal" href="pull_requests_and_github.html">Pull Requests, Git &amp; GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="merge_conflicts.html">Dealing With Merge Conflicts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Branches</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-and-managing-branches">Creating and Managing Branches</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Disaster Recovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../disaster_recovery/restore_a_mongo_collection.html">Restore Mongo from Backup</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Special Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../special_topics/connecting_to_the_container_network.html">Connecting to the Container Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../special_topics/goship-demo.html">Goship Demo Rebuild</a></li>
<li class="toctree-l1"><a class="reference internal" href="../special_topics/profiles-alpha.html">Profiles API Alpha Product</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">argovis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Using Branches</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/dev_tools/using_branches.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-branches">
<span id="branches"></span><h1>Using Branches<a class="headerlink" href="#using-branches" title="Permalink to this headline">¶</a></h1>
<p>In our discussion about collaborating on code in <a class="reference internal" href="pull_requests_and_github.html#prs"><span class="std std-ref">Pull Requests, Git &amp; GitHub</span></a>, we just stuck to the default <em>branches</em> in our repos for simplicity. This is fine if you’re working on just one thing at a time - but what if you have more than one idea you’re pursuing at once? This is what <em>branching</em> is meant to accommodate in git.</p>
<p>To follow this tutorial, you should be comfortable with everything we did in <a class="reference internal" href="pull_requests_and_github.html#prs"><span class="std std-ref">Pull Requests, Git &amp; GitHub</span></a>.</p>
<div class="section" id="creating-and-managing-branches">
<h2>Creating and Managing Branches<a class="headerlink" href="#creating-and-managing-branches" title="Permalink to this headline">¶</a></h2>
<p>Suppose you’re working on some API improvements, but it’s a big project and you expect you’ll have to work on something else before you’re completely done. You’re going to want to be able to switch between these trains of thought, so each will need its own branch; start by setting one up for your API work:</p>
<ol class="arabic">
<li><p>From your project directory on your machine, go back to the main branch of the project, called <code class="docutils literal notranslate"><span class="pre">main</span></code> in most Argovis projects, and make sure you’re up to date with the upstream repos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>argovisNg $ git checkout main
argovisNg $ git pull upstream main
</pre></div>
</div>
</li>
<li><p>Make a branch named <code class="docutils literal notranslate"><span class="pre">api</span></code> for your API feature work:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>argovisNg $ git checkout -b api
</pre></div>
</div>
<p>From this point, you are on the <code class="docutils literal notranslate"><span class="pre">api</span></code> branch. Doing <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> will add commits to this branch instead of <code class="docutils literal notranslate"><span class="pre">main</span></code>. To set up pull requests, do exactly what you did in <a class="reference internal" href="pull_requests_and_github.html#prs"><span class="std std-ref">Pull Requests, Git &amp; GitHub</span></a>, but using <code class="docutils literal notranslate"><span class="pre">api</span></code> (or whatever you named your branch) instead of <code class="docutils literal notranslate"><span class="pre">main</span></code>. So for example, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">api</span></code> will send your <code class="docutils literal notranslate"><span class="pre">api</span></code> branch up to GitHub, and when clicking through setting up your pull request, you’ll want to select <code class="docutils literal notranslate"><span class="pre">api</span></code> as the originating branch from your repo, and <code class="docutils literal notranslate"><span class="pre">main</span></code> as the target branch in the upstream repo.</p>
</li>
<li><p>Now suppose you’re half way through your API work, when someone reports a critical bug somewhere else in the same repo! You need to drop what you’re doing and fix the bug, but you don’t want your API work and the bugfix to get tied up together; remember from <a class="reference internal" href="pull_requests_and_github.html#prs"><span class="std std-ref">Pull Requests, Git &amp; GitHub</span></a>, you want each of your PRs to focus on only one thing, so you’ll have to make a new branch for your bugfix.</p>
<p>ALWAYS start by going back to the main branch first! It is almost never a good idea to make a feature branch off of another feature branch; this leads to confusion and misery.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>argovisNg $ git checkout main
argovisNg $ git pull upstream main
argovisNg $ git checkout -b bugfix
</pre></div>
</div>
<p>We now have (at least) three branches: the <code class="docutils literal notranslate"><span class="pre">main</span></code> version of the code, our API work on the <code class="docutils literal notranslate"><span class="pre">api</span></code> branch, and an new branch <code class="docutils literal notranslate"><span class="pre">bugfix</span></code> where we’ll add commits fixing the bug. If you’re ever confused, do <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code> with no arguments, and git will list branches and indicate which one you’re currently on. You can switch between existing branches with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;branchname&gt;</span></code>.</p>
</li>
</ol>
<div class="admonition-seriously admonition">
<p class="admonition-title">Seriously</p>
<p>Seriously - don’t forget to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">main</span></code> right before making a new branch with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span></code>. Git will happily let you make a branch from whatever branch you want since it isn’t technically wrong and there are some extremely rare cases where you might want to, but almost always this is not what you want and will lead to problems.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../disaster_recovery/restore_a_mongo_collection.html" class="btn btn-neutral float-right" title="Restore Mongo from Backup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="merge_conflicts.html" class="btn btn-neutral float-left" title="Dealing With Merge Conflicts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Argovis Collaboration.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>